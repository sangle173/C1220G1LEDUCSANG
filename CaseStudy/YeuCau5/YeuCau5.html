<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let check;
    let newCustomers = []; // Khai báo mảng rổng;
    displayMainMenu();

    // Hàm Main menu ;

    function displayMainMenu() {
        do {
            check = false;
            // Hiển thị bảng menu cho người dùng chọn các hàm
            let chooseMenu = parseInt(prompt('Choose from list: ' + '\n' +
                '1.Add New Customer \n' +
                '2.Display Information Customer \n' +
                '3.Edit Information Customer \n' +
                '4.Delete Customer \n' +
                '5.Exit'));
            //Dùng switch tương ứng với các lựa chon sẽ chạy các hàm
            switch (chooseMenu) {
                case 1: {
                    addNewCustomer();
                    break;
                }
                case 2: {
                    displayInfo();
                    break;
                }
                case 3: {
                    editInfo();
                    break;
                }
                case 4: {
                    deleteCustomer();
                    break;
                }
                case 5: {
                    check = confirm('Do you want to exit')
                }
                default:{
                    alert('Failed')
                }
            }
        } while (check === false)
    }

    // Thêm các thông tin khách hàng;

    function addNewCustomer() {
        let chooseNewCustomers = parseInt(prompt('choose number of customer'))
        let indexOld = newCustomers.length;
        for (let i = 0; i < chooseNewCustomers; i++) {  // tạo mảng 2 chiều với chiều dài mảng bằng với số khách hàng người dùng muốn thêm
            newCustomers[indexOld] = new Array(11); // Mảng con có 11 phần tử
            newCustomers[indexOld][0] = prompt('Enter name: ' + (i + 1));
            newCustomers[indexOld][1] = prompt('Enter idCard: ' + (i + 1));
            newCustomers[indexOld][2] = prompt('Enter birthDay: ' + (i + 1));
            newCustomers[indexOld][3] = prompt('Enter email: ' + (i + 1));
            newCustomers[indexOld][4] = prompt('Enter address: ' + (i + 1));
            newCustomers[indexOld][5] = prompt('Enter typeCustomer: ' + (i + 1));
            newCustomers[indexOld][6] = prompt('Enter discount: ' + (i + 1));
            newCustomers[indexOld][7] = prompt('Enter pax: ' + (i + 1));
            newCustomers[indexOld][8] = prompt('Enter rentDays: ' + (i + 1));
            newCustomers[indexOld][9] = prompt('Enter typeService: ' + (i + 1));
            newCustomers[indexOld][10] = prompt('Enter typeRoom: ' + (i + 1));
            indexOld++;
        }
    }
// Hàm hiển thị thông tin khách hàng đã được thêm;
    function displayInfo() {
        let chooseDisplay = parseInt(prompt('Choose from list: ' + '\n' +
            '1.Display Customer \n' +
            '2.Back'));
        let listNewCustomer = '';
        switch (chooseDisplay) {
            case 1: {
                for (let i = 0; i < newCustomers.length; i++) {
                    listNewCustomer += (i + 1) + '.' + ' Name: ' + newCustomers[i][0] + ' ' + ' IdCard :' + newCustomers[i][1] + '\n';
                }
                let chooseDisplay1 = parseInt(prompt('Choose the Customer you want to display: \n'+listNewCustomer));
                alert(newCustomers[chooseDisplay1-1].join(' '));
                break;
            }
            case 2: {
                displayMainMenu();
                break;
            }
        }

    }

    // Hàm chỉnh sửa  thông tin khách hàng đã được thêm;

    function editInfo() {
        let listNewCustomer = '';
        let customer = '';
        for (let i = 0; i < newCustomers.length; i++) {
            listNewCustomer += (i + 1) + '.' + ' Name: ' + newCustomers[i][0] + ' ' + ' idCard ' + newCustomers[i][1] + '\n';
        }
        console.log(newCustomers);

        let chooseEdit = parseInt(prompt(listNewCustomer));
        console.log(chooseEdit);
        for (let i = 0; i < newCustomers[chooseEdit-1].length; i++) {
            customer += (i+1) + ". " + newCustomers[chooseEdit-1][i]  + "\n";
        }
        let chooseCustomer = parseInt(prompt('Choose the line you want to edit \n'+customer));
        let contentEdit = prompt("Enter content you want to change");
        newCustomers[chooseEdit-1][chooseCustomer-1] = contentEdit;
    }

    // Hàm xóa thông tin khách hàng đã được thêm;

    function deleteCustomer() {
        let listNewCustomer = '';
        for (let i = 0; i < newCustomers.length; i++) {
            listNewCustomer += (i + 1) + '.' + ' Name: ' + newCustomers[i][0] + ' ' + ' idCard ' + newCustomers[i][1] + '\n';
        }
        let chooseDelete = parseInt(prompt("Choose Customer you want to delete \n" + listNewCustomer));
        if (chooseDelete > 0 && chooseDelete <= newCustomers.length) {
            newCustomers.splice((chooseDelete - 1), 1);
        }
        listNewCustomer = '';
        if (newCustomers.length !== 0) {
            for (let i = 0; i < newCustomers.length; i++) {
                listNewCustomer += (i + 1) + '.' + ' Name: ' + newCustomers[i][0] + ' ' + ' IdCard ' + newCustomers[i][1] + '\n';
            }
        } else {
            listNewCustomer = "Empty List";
        }
        alert(listNewCustomer);
    }
</script>
</body>
</html>